(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{199:function(e,t,o){"use strict";o.r(t);var r=o(6),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"faq"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[e._v("#")]),e._v(" FAQ")]),e._v(" "),o("h3",{attrs:{id:"实例化-store-时为什么要对-model-进行循环引用"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#实例化-store-时为什么要对-model-进行循环引用"}},[e._v("#")]),e._v(" 实例化 Store 时为什么要对 Model 进行循环引用？")]),e._v(" "),o("p",[e._v("由于 "),o("code",[e._v("typescript")]),e._v(" 的类型推断是建立在静态检查的前提下，是需要根据你的定义才能推断出它的结构，在定义 model 的时候无法推断出自己，因此需要进行一次 "),o("strong",[e._v("类型的循环引用")]),e._v("，这不会影响代码本身的执行逻辑，只是帮助你推断出类型。如果你不使用 "),o("code",[e._v("typescript")]),e._v(" 或者不需要推断出 "),o("code",[e._v("effects")]),e._v(" 中使用的 "),o("code",[e._v("store")]),e._v(" 以及 "),o("code",[e._v("Models")]),e._v("，可以避免使用这种类型循环引用")]),e._v(" "),o("h3",{attrs:{id:"路由之间切换时-model-的状态会一直保存-但是业务需要自动卸载"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#路由之间切换时-model-的状态会一直保存-但是业务需要自动卸载"}},[e._v("#")]),e._v(" 路由之间切换时 Model 的状态会一直保存，但是业务需要自动卸载")]),e._v(" "),o("p",[e._v("使用 "),o("code",[e._v("@dobux/store")]),e._v(" 创建的 store 实例会常驻于内存，默认情况下当组件卸载是不会自动重置的，如果想要在组件卸载的时候重置数据可以通过 "),o("code",[e._v("Provider")]),e._v(" 或者 "),o("code",[e._v("withProvider")]),e._v(" 的选项进行控制，"),o("RouterLink",{attrs:{to:"/api/return.html#provider"}},[e._v("详见")])],1),e._v(" "),o("h3",{attrs:{id:"多-model-模式下-一个-model-的改变会影响依赖其他-model-的组件刷新-引起不必要的渲染吗"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#多-model-模式下-一个-model-的改变会影响依赖其他-model-的组件刷新-引起不必要的渲染吗"}},[e._v("#")]),e._v(" 多 Model 模式下，一个 Model 的改变会影响依赖其他 Model 的组件刷新，引起不必要的渲染吗？")]),e._v(" "),o("p",[e._v("不会，一个 Model 的状态 state 改变时，只有依赖了这个 Model 的组件会执行 rerender，其他组件是无感知的，同时 "),o("code",[e._v("useModel")]),e._v(" 同样提供了第二个参数 "),o("code",[e._v("mapStateToProps")]),e._v(" 进行性能优化，你可以通过该参数精确的控制组件的渲染力度，"),o("RouterLink",{attrs:{to:"/api/#store-usemodel"}},[e._v("详见")])],1)])}),[],!1,null,null,null);t.default=s.exports}}]);